**4.捉迷藏的 0 和 1**

你了解位运算吗？程序的输出结果都是什么？试解释为什么后两次打印的结果不同

```

int main() {
    char a = 64 & 127;
    char b = 63 | 20;
    char c = -64 >> 6;
    char sum =  a+b-c;
    printf("b = %d\nc = %d\nd =%d\n",a,b,c);
    printf("sum = %d\n",sum);
    printf("a+b-c  = %d\n", a+b-c);
    return 0;
}
```

| 出题人  | 刘雨熙   |
| ------- | -------- |
| 知识点1 | 位运算   |
| 知识点2 | 算术溢出 |
| 知识点3 | 整型提升 |

Q1：解释a，b，c的结果并说明原因45%

Q2：解释sum的值，讲讲为什么会溢出30%

Q3：解释第三个输出的值，讲一下整型提升25%

```
A1:
64的二进制表示为01000000，127的二进制表示为01111111，64和127做按位或运算，得到a结果64。63的二进制表示00111111，20的二进制表示为00010100，做按位与运算，得到b结果63,-64的二进制表示为64的二进制取反再加一，即01000000取反(10111111)再加一(11000000),右移六位得到11111111，取反再加一得到-1，所以c的结果为-1。
a的输出为64,b的输出为63,c的输出为-1。
A2：
sum的值为64+63-(-1) = 128,但是由于char类型表示的数的范围是-128——127，所以计算完成赋值给char类型的sum时会发生溢出，导致sum的实际打印值为-128。
A3：
整型提升：c语言中，char、short等小于int的类型在表达式中会自动提升为int进行计算，所以64+63-(-1) = 128；

```

